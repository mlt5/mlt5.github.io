<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Text: Recap</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Model Evaluation Metrics</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Intro.html">01. Intro</a>
    </li>
    <li class="">
      <a href="02. Outline.html">02. Outline</a>
    </li>
    <li class="">
      <a href="03. Testing your models.html">03. Testing your models</a>
    </li>
    <li class="">
      <a href="04. Confusion Matrix.html">04. Confusion Matrix</a>
    </li>
    <li class="">
      <a href="05. Confusion Matrix 2.html">05. Confusion Matrix 2</a>
    </li>
    <li class="">
      <a href="06. Accuracy.html">06. Accuracy</a>
    </li>
    <li class="">
      <a href="07. Accuracy 2.html">07. Accuracy 2</a>
    </li>
    <li class="">
      <a href="08. When accuracy won&#x27;t work.html">08. When accuracy won&#x27;t work</a>
    </li>
    <li class="">
      <a href="09. False Negatives and Positives.html">09. False Negatives and Positives</a>
    </li>
    <li class="">
      <a href="10. Precision and Recall.html">10. Precision and Recall</a>
    </li>
    <li class="">
      <a href="11. Precision.html">11. Precision</a>
    </li>
    <li class="">
      <a href="12. Recall.html">12. Recall</a>
    </li>
    <li class="">
      <a href="13. F1 Score.html">13. F1 Score</a>
    </li>
    <li class="">
      <a href="14. F-beta Score.html">14. F-beta Score</a>
    </li>
    <li class="">
      <a href="15. ROC Curve.html">15. ROC Curve</a>
    </li>
    <li class="">
      <a href="16. Sklearn Practice (Classification).html">16. Sklearn Practice (Classification)</a>
    </li>
    <li class="">
      <a href="17. Regression Metrics.html">17. Regression Metrics</a>
    </li>
    <li class="">
      <a href="18. Sklearn Practice (Regression).html">18. Sklearn Practice (Regression)</a>
    </li>
    <li class="">
      <a href="19. Text Recap.html">19. Text: Recap</a>
    </li>
    <li class="">
      <a href="20. Summary.html">20. Summary</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">19. Text: Recap</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="recap">Recap</h3>
<p>In this lesson, you got a glimpse at the ways that we can measure how well our models are performing.  </p>
<h4 id="training--testing-data">Training &amp; Testing Data</h4>
<p>First, it is important to <strong>always</strong> split your data into training and testing.  Then you will measure how well your model performs on the test set of data after being fit training data.</p>
<h3 id="classification-measures">Classification Measures</h3>
<p>If you are fitting your model to predict categorical data (spam not spam), there are different measures to understand how well your model is performing than if you are predicting numeric values (the price of a home).  </p>
<p>As we look at classification metrics, note that the <a href="https://en.wikipedia.org/wiki/Precision_and_recall" rel="noopener noreferrer" target="_blank">wikipedia page</a> on this topic is wonderful, but also a bit daunting.  I frequently use it to remember which metric does what.</p>
<p>Specifically, you saw how to calculate:</p>
<ul>
<li><strong>Accuracy</strong> </li>
</ul>
<p>Accuracy is often  used to compare models, as it tells us the proportion of observations we correctly labeled.  </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-4.40.07-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Often accuracy is not the only metric you should be optimizing on.  This is especially the case when you have class imbalance in your data.  Optimizing on only accuracy can be misleading in how well your model is truly performing.  With that in mind, you saw some additional metrics.</p>
<ul>
<li><strong>Precision</strong></li>
</ul>
<p>Precision focuses on the <strong>predicted</strong> "positive" values in your dataset.  By optimizing based on precision values, you are determining if you are doing a good job of predicting the positive values, as compared to predicting negative values as positive.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-4.59.04-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <ul>
<li><strong>Recall</strong></li>
</ul>
<p>Recall focuses on the <strong>actual</strong> "positive" values in your dataset.  By optimizing based on recall values, you are determining if you are doing a good job of predicting the positive values <strong>without</strong> regard of how you are doing on the <strong>actual</strong> negative values.  If you want to perform something similar to recall on the <strong>actual</strong> 'negative' values, this is called <code>specificity</code> (TN / (TN + FP)).</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-4.45.34-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <ul>
<li><strong>F-Beta Score</strong></li>
</ul>
<p>In order to look at a combination of metrics at the same time, there are some common techniques like the F-Beta Score (where the F1 score is frequently used), as well as the ROC and AUC.  You can see that the <span class="mathquill ud-math">\beta</span> parameter controls the degree to which precision is weighed into the F score, which allows precision and recall to be considered simultaneously.  The most common value for beta is 1, as this is where you are finding the harmonic average between precision and recall.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-7.04.15-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <ul>
<li><strong>ROC Curve & AUC</strong></li>
</ul>
<p>By finding different thresholds for our classification metrics, we can measure the area under the curve (where the curve is known as a ROC curve).  Similar to each of the other metrics above, when the AUC is higher (closer to 1), this suggests that our model performance is better than when our metric is close to 0.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-7.24.13-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>You may end up choosing to optimize on any of these measures.  I commonly end up using AUC or an F1 score in practice.  However, there are always reason to choose one measure over another depending on your situation.  </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="regression-measures">Regression Measures</h3>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>You want to measure how well your algorithms are performing on predicting numeric values?  In these cases, there are three main metrics that are frequently used. <strong>mean absolute error</strong>, <strong>mean squared error</strong>, and <strong>r2</strong> values.  </p>
<p>As an important note, optimizing on the mean absolute error may lead to a different 'best model' than if you optimize on the mean squared error.  However, optimizing on the mean squared error will <strong>always</strong> lead to the same 'best' model as if you were to optimize on the <strong>r2</strong> value.  </p>
<p>Again, if you choose a model with the best r2 value (the highest), it will also be the model that has the lowest (MSE).  Choosing one versus another is based on which one you feel most comfortable explaining to someone else.</p>
<ul>
<li><strong>Mean Absolute Error (MAE)</strong> </li>
</ul>
<p>The first metric you saw was the mean absolute error.  This is a useful metric to optimize on when the value you are trying to predict follows a skewed distribution.  Optimizing on an absolute value is particularly helpful in these cases because outliers will not influence models attempting to optimize on this metric as much as if you use the mean squared error.  The optimal value for this technique is the median value.  When you optimize for the R2 value of the mean squared error, the optimal value is actually the mean.  </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-7.53.22-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <ul>
<li><strong>Mean-Squared Error (MSE)</strong></li>
</ul>
<p>The mean squared error is by far the most used metric for optimization in regression problems.  Similar to with MAE, you want to find a model that minimizes this value.  This metric can be greatly impacted by skewed distributions and outliers.  When a model is considered optimal via MAE, but not for MSE, it is useful to keep this in mind.  In many cases, it is easier to actually optimize on MSE, as the a quadratic term is differentiable.  However, an absolute value is not differentiable.  This factor makes this metric better for gradient based optimization algorithms.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-7.55.02-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <ul>
<li><strong>R2 Score</strong></li>
</ul>
<p>Finally, the r2 value is another common metric when looking at regression values.  Optimizing a model to have the lowest MSE will also optimize a model to have the the highest R2 value.  This is a convenient feature of this metric.  The R2 value is frequently interpreted as the 'amount of variability' captured by a model.  Therefore, you can think of MSE, as the average amount you miss by across all the points, and the R2 value as the amount of the variability in the points that you capture with a model.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-05-26-at-7.55.22-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="closing-words">Closing Words</h3>
<p>This ends this lesson on metrics.  In the final lesson before the project, you will get some practice tuning and optimizing your models.</p>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="20. Summary.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('19. Text: Recap')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
