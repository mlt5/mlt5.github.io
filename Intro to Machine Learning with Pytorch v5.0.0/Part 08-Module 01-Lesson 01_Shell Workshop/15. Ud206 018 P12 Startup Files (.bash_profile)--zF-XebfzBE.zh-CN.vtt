WEBVTT
Kind: captions
Language: zh-CN

00:00:00.510 --> 00:00:02.820
Shell 不只是一个用户界面

00:00:02.819 --> 00:00:05.070
它还是一种编程语言

00:00:05.070 --> 00:00:09.153
包含 Shell 命令的文件叫做 Shell 脚本

00:00:09.153 --> 00:00:11.070
它们可以简单到只是一两行命令

00:00:11.070 --> 00:00:12.929
就像你之前在 Shell 提示符下所写的

00:00:12.929 --> 00:00:14.910
也可以是由很多功能组成的

00:00:14.910 --> 00:00:16.670
长而复杂的程序

00:00:16.670 --> 00:00:19.170
但是在这节课中 我们不会深入探究

00:00:19.170 --> 00:00:20.346
Shell 编程

00:00:20.346 --> 00:00:21.719
而是看一个基本上对使用 Shell 的每个人

00:00:21.719 --> 00:00:24.989
都非常有用的技巧

00:00:24.989 --> 00:00:28.059
那就是自定义 Shell

00:00:28.059 --> 00:00:31.079
来看一个例子 Shell 用户通常会

00:00:31.079 --> 00:00:33.780
将程序安装到一个叫做 bin (代表二进制文件)

00:00:33.780 --> 00:00:36.570
的主目录下的子目录

00:00:36.570 --> 00:00:38.640
但是 Shell 并未进行预配置 以知道

00:00:38.640 --> 00:00:40.380
其中是否有任何命令

00:00:40.380 --> 00:00:43.597
之前 如果你有一个程序安装在 bin/magic 下

00:00:43.597 --> 00:00:45.179
且你想从 Shell 运行它

00:00:45.179 --> 00:00:47.637
你得打出目录和命令名

00:00:47.637 --> 00:00:48.519
你得打出目录和命令名

00:00:48.520 --> 00:00:50.939
现在 通过将该目录添加到你的 PATH 路径

00:00:50.939 --> 00:00:51.854
便可直接执行

00:00:55.039 --> 00:00:59.149
但是每次你启动一个新 Shell 时 它都会重置

00:00:59.149 --> 00:01:00.949
为了让此变更成为永久性的

00:01:00.950 --> 00:01:04.230
你需要将其放到 Shell 的配置文件中

00:01:04.230 --> 00:01:05.656
由于历史原因

00:01:05.656 --> 00:01:07.280
Bash Shell 能在启动时运行

00:01:07.280 --> 00:01:10.400
几个不同的文件 来获取其配置

00:01:10.400 --> 00:01:13.900
在 Mac 系统或者是带有 Git Bash 的 Windows 系统上

00:01:13.900 --> 00:01:16.640
你打开的每个终端中的 Shell 都将加载

00:01:16.640 --> 00:01:20.299
名为 .bash_profile 的文件中的指令

00:01:20.299 --> 00:01:23.209
但是在 Linux 系统上 .bash_profile 仅对

00:01:23.209 --> 00:01:25.939
某些 Shell 会话加载 特别是登录 Shell

00:01:25.939 --> 00:01:26.859
会话

00:01:26.859 --> 00:01:31.159
非登录 Shell 会话则会加载一个名为 .bashrc 的文件

00:01:31.159 --> 00:01:32.981
如果你想在不同的操作系统上

00:01:32.981 --> 00:01:34.939
使用相同的 Shell 配置 这种不一致性

00:01:34.939 --> 00:01:37.659
可能会是个问题

00:01:37.659 --> 00:01:40.030
一种常用的解决方法是

00:01:40.030 --> 00:01:43.930
在你的 .bash_profile 中加入一个语句 说如果有一个

00:01:43.930 --> 00:01:46.330
名为 .bashrc 的文件 则运行它

00:01:46.329 --> 00:01:48.670
但是如果你使用的是 Mac 或 Windows

00:01:48.670 --> 00:01:51.159
直接用 .bash_profile 即可 而不用

00:01:51.159 --> 00:01:52.390
担心此问题

00:01:52.390 --> 00:01:54.549
你放入此配置文件的任何命令

00:01:54.549 --> 00:01:57.129
都会在你每次启动 Shell 时运行

00:01:57.129 --> 00:01:58.689
这包括变量赋值

00:01:58.689 --> 00:02:01.030
比如更改 $PATH

00:02:01.030 --> 00:02:02.469
它也可以包含

00:02:02.469 --> 00:02:04.810
你希望在启动 Shell 会话时看到的任何内容

00:02:04.810 --> 00:02:07.359
比如你可能想看到日期和友好消息

00:02:07.359 --> 00:02:09.699
没问题 直接在此加上日期命令即可

00:02:09.699 --> 00:02:14.820
或者加上 echo "Hey there!"

00:02:14.819 --> 00:02:17.819
然后 当你启动一个新 Shell 时 你放在其中的命令

00:02:17.819 --> 00:02:19.370
就会运行

