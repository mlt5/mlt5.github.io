<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Scatterplots and Correlation</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Bivariate Exploration of Data</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. Scatterplots and Correlation.html">02. Scatterplots and Correlation</a>
    </li>
    <li class="">
      <a href="03. Overplotting, Transparency, and Jitter.html">03. Overplotting, Transparency, and Jitter</a>
    </li>
    <li class="">
      <a href="04. Heat Maps.html">04. Heat Maps</a>
    </li>
    <li class="">
      <a href="05. Scatterplot Practice.html">05. Scatterplot Practice</a>
    </li>
    <li class="">
      <a href="06. Violin Plots.html">06. Violin Plots</a>
    </li>
    <li class="">
      <a href="07. Box Plots.html">07. Box Plots</a>
    </li>
    <li class="">
      <a href="08. Violin and Box Plot Practice.html">08. Violin and Box Plot Practice</a>
    </li>
    <li class="">
      <a href="09. Clustered Bar Charts.html">09. Clustered Bar Charts</a>
    </li>
    <li class="">
      <a href="10. Categorical Plot Practice.html">10. Categorical Plot Practice</a>
    </li>
    <li class="">
      <a href="11. Faceting.html">11. Faceting</a>
    </li>
    <li class="">
      <a href="12. Adaptation of Univariate Plots.html">12. Adaptation of Univariate Plots</a>
    </li>
    <li class="">
      <a href="13. Line Plots.html">13. Line Plots</a>
    </li>
    <li class="">
      <a href="14. Additional Plot Practice.html">14. Additional Plot Practice</a>
    </li>
    <li class="">
      <a href="15. Lesson Summary.html">15. Lesson Summary</a>
    </li>
    <li class="">
      <a href="16. Extra Q-Q Plots.html">16. Extra: Q-Q Plots</a>
    </li>
    <li class="">
      <a href="17. Extra Swarm Plots.html">17. Extra: Swarm Plots</a>
    </li>
    <li class="">
      <a href="18. Extra Rug and Strip Plots.html">18. Extra: Rug and Strip Plots</a>
    </li>
    <li class="">
      <a href="19. Extra Stacked Plots.html">19. Extra: Stacked Plots</a>
    </li>
    <li class="">
      <a href="20. Extra Ridgeline Plots.html">20. Extra: Ridgeline Plots</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">02. Scatterplots and Correlation</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3><p>L4 021 Scatterplots And Correlation V2</p></h3>
  <video controls>
  <source src="02. L4 021 Scatterplots And Correlation V2-wqMwTDVT9_Y.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="zh-CN" src="02. L4 021 Scatterplots And Correlation V2-wqMwTDVT9_Y.zh-CN.vtt" label="zh-CN">
  <track default="true" kind="subtitles" srclang="en" src="02. L4 021 Scatterplots And Correlation V2-wqMwTDVT9_Y.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="pt-BR" src="02. L4 021 Scatterplots And Correlation V2-wqMwTDVT9_Y.pt-BR.vtt" label="pt-BR">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <hr>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Data Vis L4 C02 V1</p></h3>
  <video controls>
  <source src="02. Data Vis L4 C02 V1-wBDC5AmYgyg.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="zh-CN" src="02. Data Vis L4 C02 V1-wBDC5AmYgyg.zh-CN.vtt" label="zh-CN">
  <track default="true" kind="subtitles" srclang="en" src="02. Data Vis L4 C02 V1-wBDC5AmYgyg.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="pt-BR" src="02. Data Vis L4 C02 V1-wBDC5AmYgyg.pt-BR.vtt" label="pt-BR">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <hr>
<h2 id="scatterplots">Scatterplots</h2>
<p>If we want to inspect the relationship between two numeric variables, the standard choice of plot is the <strong>scatterplot</strong>. In a scatterplot, each data point is plotted individually as a point, its x-position corresponding to one feature value and its y-position corresponding to the second. </p>
<h2 id="matplotlibpyplotscatter">matplotlib.pyplot.scatter()</h2>
<p>One basic way of creating a scatterplot is through Matplotlib's <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.scatter.html" rel="noopener noreferrer" target="_blank"><code>scatter</code></a> function:</p>
<h3 id="example-1-a-scatter-plot-showing-negative-correlation-between-two-variables">Example 1 a. Scatter plot showing negative correlation between two variables</h3>
<pre><code class="python language-python"># TO DO: Necessary import

# Read the CSV file
fuel_econ = pd.read_csv('fuel_econ.csv')
fuel_econ.head(10)

# Scatter plot
plt.scatter(data = fuel_econ, x = 'displ', y = 'comb');
plt.xlabel('Displacement (1)')
plt.ylabel('Combined Fuel Eff. (mpg)')</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/download-41.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>In the example above, the relationship between the two variables is negative because as higher values of the x-axis variable are increasing, the values of the variable plotted on the y-axis are decreasing.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="alternative-approach---seabornregplot">Alternative Approach - seaborn.regplot()</h2>
<p>Seaborn's <a href="https://seaborn.pydata.org/generated/seaborn.regplot.html" rel="noopener noreferrer" target="_blank">regplot()</a> function combines scatterplot creation with regression function fitting:</p>
<h3 id="example-1-b-scatter-plot-showing-negative-correlation-between-two-variables">Example 1 b. Scatter plot showing negative correlation between two variables</h3>
<pre><code class="python language-python">sb.regplot(data = fuel_econ, x = 'displ', y = 'comb');
plt.xlabel('Displacement (1)')
plt.ylabel('Combined Fuel Eff. (mpg)')</code></pre>
<p>The basic function parameters, "data", "x", and "y" are the same for <code>regplot</code> as they are for matplotlib's <code>scatter</code>.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/download-42.png" alt="The regression line in a scatter plot showing a negative correlation between the two variables." class="img img-fluid">
    <figcaption class="figure-caption">
      <p>The regression line in a scatter plot showing a negative correlation between the two variables.</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="example-2-scatter-plot-showing-a-positive-correlation-between-two-variables">Example 2. Scatter plot showing a positive correlation between two variables</h3>
<p>Let's consider another plot shown below that shows a positive correlation between two variables.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/l4-c02-scatterplot2.png" alt="The regression line in a scatter plot showing a positive correlation between the two variables." class="img img-fluid">
    <figcaption class="figure-caption">
      <p>The regression line in a scatter plot showing a positive correlation between the two variables.</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>In the scatter plot above, by default, the regression function is linear and includes a shaded confidence region for the regression estimate. In this case, since the trend looks like a <span class="mathquill ud-math">\text{log}(y) \propto x</span> relationship (that is, linear increases in the value of x are associated with linear increases in the log of y), plotting the regression line on the raw units is not appropriate. If we don't care about the regression line, then we could set <code>fit_reg = False</code> in the <code>regplot</code> function call. </p>
<p>You can even plot the regression line on the transformed data as shown in the example below. For transformation, use a similar approach as you've learned in the last lesson. </p>
<h3 id="example-3-plot-the-regression-line-on-the-transformed-data">Example 3. Plot the regression line on the transformed data</h3>
<pre><code class="python language-python">def log_trans(x, inverse = False):
    if not inverse:
        return np.log10(x)
    else:
        return np.power(10, x)

sb.regplot(fuel_econ['displ'], fuel_econ['comb'].apply(log_trans))
tick_locs = [10, 20, 50, 100]
plt.yticks(log_trans(tick_locs), tick_locs);</code></pre>
<p><strong>Note</strong> - In this example, the x- and y- values sent to <code>regplot</code> are set directly as Series, extracted from the dataframe.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/download-43.png" alt="Regression line on a scattered plot based on the log-transformed data" class="img img-fluid">
    <figcaption class="figure-caption">
      <p>Regression line on a scattered plot based on the log-transformed data</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="03. Overplotting, Transparency, and Jitter.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('02. Scatterplots and Correlation')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
