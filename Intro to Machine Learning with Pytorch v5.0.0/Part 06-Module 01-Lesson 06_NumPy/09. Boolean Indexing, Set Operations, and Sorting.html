<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Boolean Indexing, Set Operations, and Sorting</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>NumPy</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Instructors.html">01. Instructors</a>
    </li>
    <li class="">
      <a href="02. Introduction to NumPy.html">02. Introduction to NumPy</a>
    </li>
    <li class="">
      <a href="03. Why Use NumPy.html">03. Why Use NumPy?</a>
    </li>
    <li class="">
      <a href="04. Creating and Saving NumPy ndarrays.html">04. Creating and Saving NumPy ndarrays</a>
    </li>
    <li class="">
      <a href="05. Using Built-in Functions to Create ndarrays.html">05. Using Built-in Functions to Create ndarrays</a>
    </li>
    <li class="">
      <a href="06. Create an ndarray.html">06. Create an ndarray</a>
    </li>
    <li class="">
      <a href="07. Accessing, Deleting, and Inserting Elements Into ndarrays.html">07. Accessing, Deleting, and Inserting Elements Into ndarrays</a>
    </li>
    <li class="">
      <a href="08. Slicing ndarrays.html">08. Slicing ndarrays</a>
    </li>
    <li class="">
      <a href="09. Boolean Indexing, Set Operations, and Sorting.html">09. Boolean Indexing, Set Operations, and Sorting</a>
    </li>
    <li class="">
      <a href="10. Manipulating ndarrays.html">10. Manipulating ndarrays</a>
    </li>
    <li class="">
      <a href="11. Arithmetic operations and Broadcasting.html">11. Arithmetic operations and Broadcasting</a>
    </li>
    <li class="">
      <a href="12. Creating ndarrays with Broadcasting.html">12. Creating ndarrays with Broadcasting</a>
    </li>
    <li class="">
      <a href="13. Glossary.html">13. Glossary</a>
    </li>
    <li class="">
      <a href="14. Getting Set Up for the Mini-Project.html">14. Getting Set Up for the Mini-Project</a>
    </li>
    <li class="">
      <a href="15. Mini-Project Mean Normalization and Data Separation.html">15. Mini-Project: Mean Normalization and Data Separation</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">09. Boolean Indexing, Set Operations, and Sorting</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="boolean-indexing-set-operations-and-sorting">Boolean Indexing, Set Operations, and Sorting</h1>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>NumPy 5 V1</p></h3>
  <video controls>
  <source src="09. NumPy 5 V1-vGjI-WTnEbY.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="zh-CN" src="09. NumPy 5 V1-vGjI-WTnEbY.zh-CN.vtt" label="zh-CN">
  <track default="true" kind="subtitles" srclang="en" src="09. NumPy 5 V1-vGjI-WTnEbY.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="pt-BR" src="09. NumPy 5 V1-vGjI-WTnEbY.pt-BR.vtt" label="pt-BR">
</video>


  <div class="jumbotron" style="margin-top: 50px; margin-bottom: 50px;">
    <h3>INSTRUCTOR NOTE:</h3>
    <blockquote>
  <p><strong>Erratum</strong> - At time stamp 2:40 in the video above, it is shown to sort the unique elements as:<br />
  <code>print(np.sort(np.unique(x)))</code>. In this statement, the <code>unique()</code> function already  returns the <strong>sorted unique elements</strong> of the array. Therefore, the <code>print(np.unique(x))</code> will give you equivalent result. </p>
</blockquote>
  </div>
</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Up to now we have seen how to make slices and select elements of an ndarray using indices. This is useful when we know the exact indices of the elements we want to select. However, there are many situations in which we don't know the indices of the elements we want to select. For example, suppose we have a 10,000 x 10,000 ndarray of random integers ranging from 1 to 15,000 and we only want to select those integers that are less than 20. <em>Boolean</em> indexing can help us in these cases, by allowing us select elements using logical arguments instead of explicit indices. Let's see some examples:</p>
<h4 id="example-1-boolean-indexing">Example 1. Boolean indexing</h4>
<pre><code class="python language-python"># We create a 5 x 5 ndarray that contains integers from 0 to 24
X = np.arange(25).reshape(5, 5)

# We print X
print()
print('Original X = \n', X)
print()

# We use Boolean indexing to select elements in X:
print('The elements in X that are greater than 10:', X[X &gt; 10])
print('The elements in X that less than or equal to 7:', X[X &lt;= 7])
print('The elements in X that are between 10 and 17:', X[(X &gt; 10) &amp; (X &lt; 17)])

# We use Boolean indexing to assign the elements that are between 10 and 17 the value of -1
X[(X &gt; 10) &amp; (X &lt; 17)] = -1

# We print X
print()
print('X = \n', X)
print()</code></pre>
<blockquote>
  <p>Original X =  <br />
  [[ 0  1  2  3  4]  <br />
  &nbsp;[ 5  6  7  8  9]  <br />
  &nbsp;[10 11 12 13 14]  <br />
  &nbsp;[15 16 17 18 19]  <br />
  &nbsp;[20 21 22 23 24]]</p>
</blockquote>
<blockquote>
  <p>The elements in X that are greater than 10: [11 12 13 14 15 16 17 18 19 20 21 22 23 24]  <br />
  The elements in X that less than or equal to 7: [0 1 2 3 4 5 6 7]  <br />
  The elements in X that are between 10 and 17: [11 12 13 14 15 16]</p>
</blockquote>
<blockquote>
  <p>X =  <br />
  [[ 0  1  2  3  4]  <br />
  &nbsp;[ 5  6  7  8  9]  <br />
  &nbsp;[10 -1 -1 -1 -1]  <br />
  &nbsp;[-1 -1 17 18 19]  <br />
  &nbsp;[20 21 22 23 24]]</p>
</blockquote>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>In addition to Boolean Indexing NumPy also allows for set operations. This useful when comparing ndarrays, for example, to find common elements between two ndarrays. Let's see some examples:</p>
<h4 id="example-2-set-operations">Example 2. Set operations</h4>
<pre><code class="python language-python"># We create a rank 1 ndarray
x = np.array([1,2,3,4,5])

# We create a rank 1 ndarray
y = np.array([6,7,2,8,4])

# We print x
print()
print('x = ', x)

# We print y
print()
print('y = ', y)

# We use set operations to compare x and y:
print()
print('The elements that are both in x and y:', np.intersect1d(x,y))
print('The elements that are in x that are not in y:', np.setdiff1d(x,y))
print('All the elements of x and y:',np.union1d(x,y))</code></pre>
<blockquote>
  <p>x =  [1 2 3 4 5]</p>
</blockquote>
<blockquote>
  <p>y =  [6 7 2 8 4]</p>
</blockquote>
<blockquote>
  <p>The elements that are both in x and y: [2 4]  <br />
  The elements that are in x that are not in y: [1 3 5]  <br />
  All the elements of x and y: [1 2 3 4 5 6 7 8]</p>
</blockquote>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="numpyndarraysort-method">numpy.ndarray.sort method</h2>
<p>Syntax:</p>
<pre><code>ndarray.sort(axis=-1, kind=None, order=None)</code></pre>
<p>The method above sorts an array in-place. All arguments are optional, see the details <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.sort.html" rel="noopener noreferrer" target="_blank">here</a>.</p>
<p>Like with other functions we saw before, the <code>sort</code> can be used as a method as well as a function. The difference lies in how the data is stored in memory in this case. </p>
<ul>
<li>When <code>numpy.sort()</code> is used as a function, it sorts the ndrrays out of place, meaning, that it doesn't change the original ndarray being sorted. </li>
<li>On the other hand, when you use <code>numpy.ndarray.sort()</code> as a method, <code>ndarray.sort()</code> sorts the ndarray in place, meaning, that the original array will be changed to the sorted one. </li>
</ul>
<p>Let's see some examples:</p>
<h4 id="example-3-sort-arrays-using-sort-function">Example 3. Sort arrays using sort() function</h4>
<pre><code class="python language-python"># We create an unsorted rank 1 ndarray
x = np.random.randint(1,11,size=(10,))

# We print x
print()
print('Original x = ', x)

# We sort x and print the sorted array using sort as a function.
print()
print('Sorted x (out of place):', np.sort(x))

# When we sort out of place the original array remains intact. To see this we print x again
print()
print('x after sorting:', x)</code></pre>
<blockquote>
  <p>Original x =  [9 6 4 4 9 4 8 4 4 7]</p>
</blockquote>
<blockquote>
  <p>Sorted x (out of place): [4 4 4 4 4 6 7 8 9 9]</p>
</blockquote>
<blockquote>
  <p>x after sorting: [9 6 4 4 9 4 8 4 4 7]</p>
</blockquote>
<p>Notice that <code>np.sort()</code> sorts the array but, if the ndarray being sorted has repeated values, <code>np.sort()</code> leaves those values in the sorted array. However, if desired, we can use the <code>unique()</code> function. Let's see how we can sort the unique elements of <code>x</code> above:</p>
<pre><code class="python language-python"># Returns the sorted unique elements of an array
print(np.unique(x))</code></pre>
<blockquote>
  <p>[4 6 7 8 9]</p>
</blockquote>
<p>Finally, let's see how we can sort ndarrays in place, by using sort as a method:</p>
<h4 id="example-4-sort-rank-1-arrays-using-sort-method">Example 4. Sort rank-1 arrays using sort() method</h4>
<pre><code class="python language-python"># We create an unsorted rank 1 ndarray
x = np.random.randint(1,11,size=(10,))

# We print x
print()
print('Original x = ', x)

# We sort x and print the sorted array using sort as a method.
x.sort()

# When we sort in place the original array is changed to the sorted array. To see this we print x again
print()
print('x after sorting:', x)</code></pre>
<blockquote>
  <p>Original x =  [9 9 8 1 1 4 3 7 2 8]</p>
</blockquote>
<blockquote>
  <p>x after sorting: [1 1 2 3 4 7 8 8 9 9]</p>
</blockquote>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="numpysort-function">numpy.sort function</h2>
<p>Syntax:</p>
<pre><code>numpy.sort(array, axis=-1, kind=None, order=None)</code></pre>
<p>It returns a sorted copy of an array. The <code>axis</code> denotes the axis along which to sort. It can take values in the range <code>-1</code> to <code>(ndim-1)</code>. Axis can take the following possible values for a given 2-D ndarray:</p>
<ul>
<li>If nothing is specified, the default value is <code>axis = -1</code>, which sorts along the <strong>last</strong> axis. In the case of a given 2-D ndarray, the last axis value is <code>1</code>.</li>
<li>If explicitly <code>axis = None</code> is specified, the array is flattened before sorting. It will return a 1-D array. </li>
<li>If <code>axis = 0</code> is specified for a given 2-D array - For one column at a time, the function will sort all rows, without disturbing other elements. In the final output, <em>you will see that each column has been sorted individually.</em>    </li>
<li>The output of <code>axis = 1</code>  for a given 2-D array is vice-versa for <code>axis = 0</code>. In the final output, <em>you will see that each row has been sorted individually.</em></li>
</ul>
<blockquote>
  <p><strong>Tip</strong>: As mentioned in <a href="https://stackoverflow.com/questions/25773245/ambiguity-in-pandas-dataframe-numpy-array-axis-definition" rel="noopener noreferrer" target="_blank">this</a> discussion, you can read <code>axis = 0</code> as "<strong>down</strong>" and <code>axis = 1</code> as "<strong>across</strong>" the given 2-D array, to have a correct usage of axis in your methods/functions. </p>
</blockquote>
<p>Refer <a href="https://numpy.org/doc/stable/reference/generated/numpy.sort.html" rel="noopener noreferrer" target="_blank">here</a> for details about the optional arguments. </p>
<p>When sorting rank 2 ndarrays, we need to specify to the <code>np.sort()</code> function whether we are sorting by rows or columns. This is done by using the <code>axis</code> keyword. Let's see some examples:</p>
<h4 id="example-5-sort-rank-2-arrays-by-specific-axis">Example 5. Sort rank-2 arrays by specific axis.</h4>
<pre><code class="python language-python"># We create an unsorted rank 2 ndarray
X = np.random.randint(1,11,size=(5,5))

# We print X
print()
print('Original X = \n', X)
print()

# We sort the columns of X and print the sorted array
print()
print('X with sorted columns :\n', np.sort(X, axis = 0))

# We sort the rows of X and print the sorted array
print()
print('X with sorted rows :\n', np.sort(X, axis = 1))</code></pre>
<blockquote>
  <p>Original X =  <br />
  [[6 1 7 6 3]  <br />
  &nbsp; [3 9 8 3 5]  <br />
  &nbsp; [6 5 8 9 3]  <br />
  &nbsp; [2 1 5 7 7]  <br />
  &nbsp; [9 8 1 9 8]]</p>
</blockquote>
<blockquote>
  <p>X with sorted columns :  <br />
  [[2 1 1 3 3]  <br />
  &nbsp; [3 1 5 6 3]  <br />
  &nbsp; [6 5 7 7 5]  <br />
  &nbsp; [6 8 8 9 7]  <br />
  &nbsp; [9 9 8 9 8]]</p>
</blockquote>
<blockquote>
  <p>X with sorted rows :  <br />
  [[1 3 6 6 7]  <br />
  &nbsp; [3 3 5 8 9]  <br />
  &nbsp; [3 5 6 8 9]  <br />
  &nbsp; [1 2 5 7 7]  <br />
  &nbsp; [1 8 8 9 9]]</p>
</blockquote>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="additional-resource">Additional Resource</h2>
<ul>
<li>Try out the advanced examples of indexing available at <a href="https://numpy.org/devdocs/user/basics.indexing.html" rel="noopener noreferrer" target="_blank">NumPy.org - Indexing</a></li>
</ul>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="10. Manipulating ndarrays.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('09. Boolean Indexing, Set Operations, and Sorting')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
