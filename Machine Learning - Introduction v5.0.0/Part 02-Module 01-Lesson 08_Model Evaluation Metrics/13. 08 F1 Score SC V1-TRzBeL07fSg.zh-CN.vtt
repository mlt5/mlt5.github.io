WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.250
现在 我们已经学习了精度和召回率

00:00:02.250 --> 00:00:04.859
我们可以看到医学模型的

00:00:04.860 --> 00:00:09.114
精度为55.7% 召回率为83.3%

00:00:09.314 --> 00:00:11.339
所以 它是一个高召回率模型

00:00:11.339 --> 00:00:16.449
而我们的垃圾邮件检测器模型的精度是76.9% 召回率是37%

00:00:16.449 --> 00:00:18.693
它应该是一个高精度模型

00:00:18.893 --> 00:00:22.828
现在的问题是  我们想一直带着两个数字去解决问题吗？

00:00:22.829 --> 00:00:26.189
我们真的想在一个口袋放着精度 在另一个口袋又装上召回率?

00:00:26.190 --> 00:00:28.910
那样 我们在做任何决策时都要同时看两个指标

00:00:28.910 --> 00:00:33.750
好吧  这样不方便&nbsp;我们想只看一个指标

00:00:33.750 --> 00:00:38.325
所以问题是 我们怎样把这两个分数合并成一个？

00:00:38.325 --> 00:00:43.170
我们能想出办法吗？一个相当简单的方法是取平均值

00:00:43.170 --> 00:00:45.293
让我们取精度和召回率的平均值。

00:00:45.493 --> 00:00:48.030
在左边 我们得到69.5%

00:00:48.030 --> 00:00:51.060
在右边 我们得到56.95%

00:00:51.060 --> 00:00:52.560
这是个可以接受的指标

00:00:52.560 --> 00:00:54.490
但我相信你可能在想

00:00:54.490 --> 00:00:56.609
这和准确度没有太大区别

00:00:56.609 --> 00:00:58.365
取平均值并没有给我提供更多的信息

00:00:58.365 --> 00:01:00.098
要判断平均值并不是好点子的最好方法

00:01:00.298 --> 00:01:02.554
是在 一个极端例子中尝试

00:01:02.554 --> 00:01:04.238
以信用卡欺诈检测为例

00:01:04.438 --> 00:01:07.648
再次 我们有很多正常的和欺诈性的信用卡交易

00:01:07.650 --> 00:01:09.899
现在让我们选一个糟糕的模型说

00:01:10.099 --> 00:01:11.658
“全部交易都是好的”

00:01:11.858 --> 00:01:13.919
那么这个模型的精度是多少？

00:01:13.920 --> 00:01:17.040
它的精度就是在所有我们判断为欺诈的交易中

00:01:17.040 --> 00:01:18.503
有多少是真正的欺诈交易？

00:01:18.703 --> 00:01:22.078
这是个和数字相关的问题 因为我们没有发现任何欺诈交易

00:01:22.078 --> 00:01:24.628
所以是0除以0  这是未定义的

00:01:24.629 --> 00:01:26.414
但可以认为它是100%

00:01:26.415 --> 00:01:31.283
因为我们成功把全部好交易都表示为阳性

00:01:31.483 --> 00:01:33.794
这正是精度要测量的

00:01:33.795 --> 00:01:36.009
所以我们说这个模型有100%的精度。

00:01:36.209 --> 00:01:38.698
现在看看召回率 

00:01:38.700 --> 00:01:41.730
召回率是描述我们捕获了多少欺诈交易？

00:01:41.730 --> 00:01:43.545
因为我们没有捕获任何欺诈交易

00:01:43.545 --> 00:01:45.030
召回率为0

00:01:45.030 --> 00:01:47.010
所以准确度和召回率的平均值是50%

00:01:47.010 --> 00:01:50.679
因为它是100和0的平均值

00:01:50.879 --> 00:01:54.893
现在的问题是 我想给这个糟糕的模型一个百分之五十的分数吗？

00:01:55.093 --> 00:01:58.093
对这个糟糕的模型 这个分数太高

00:01:58.093 --> 00:02:01.018
我们想给它一个低得多的分数 甚至是零分

00:02:01.019 --> 00:02:04.069
因此取算术平均并不好现在让尝试一个相反的极端情况

00:02:04.069 --> 00:02:07.500
这是另一个模型  它判断全部交易都是欺诈交易

00:02:07.500 --> 00:02:09.735
这个模型的精度是多少？

00:02:09.735 --> 00:02:12.594
在全部捕获的欺诈交易中

00:02:12.794 --> 00:02:15.479
真正的欺诈交易数是472 个

00:02:15.479 --> 00:02:20.669
所以精度是472除以284,807

00:02:20.669 --> 00:02:22.433
答案是0.16%

00:02:22.633 --> 00:02:24.488
这个召回率实际上是很好的

00:02:24.490 --> 00:02:28.875
因为我们捕获了全部472个欺诈交易

00:02:28.875 --> 00:02:33.688
所以召回率是472除以472  等于100%

00:02:33.688 --> 00:02:39.418
所以再一次 0.16和100两者的平均值是50.08

00:02:39.419 --> 00:02:41.709
对这个糟糕的模型来说这个分数还是太高

00:02:41.908 --> 00:02:44.788
我们想给它一个低得多的分数 甚至是零分

00:02:44.788 --> 00:02:47.768
所以取算术平均值不是最好的方法

00:02:47.770 --> 00:02:51.060
原则上如果精度或召回率两个指标中有一个非常低

00:02:51.060 --> 00:02:54.449
即使另一个指标分数很高  我们也想给它一个低分

00:02:54.449 --> 00:02:56.280
所以 这有一个解决方案

00:02:56.280 --> 00:02:59.503
这是一种称为调和均值的平均值

00:02:59.503 --> 00:03:00.989
它的工作原理如下

00:03:00.990 --> 00:03:02.064
假设我们有两个数字 X和Y

00:03:02.264 --> 00:03:04.838
X比Y小

00:03:05.038 --> 00:03:08.008
这是它们的算术平均数

00:03:08.008 --> 00:03:09.779
X加Y除以2

00:03:09.780 --> 00:03:11.460
的平均值

00:03:11.460 --> 00:03:14.469
这是它们的调和平均值

00:03:14.669 --> 00:03:18.329
即2XY除以X加Y.

00:03:18.330 --> 00:03:21.330
如果两个数相等   它就两个数的平均值 

00:03:21.330 --> 00:03:22.808
我们得到X或Y

00:03:23.008 --> 00:03:25.209
它总是在X和Y之间取值

00:03:25.408 --> 00:03:27.328
实际上 这是一个数学事实

00:03:27.330 --> 00:03:30.930
调和平均值总是小于算术平均值

00:03:30.930 --> 00:03:34.905
它更接近于较小的数 而不是较大的数

00:03:34.905 --> 00:03:38.370
让我们看一个例子如果精度是1而召回率是0

00:03:38.370 --> 00:03:40.438
平均值就是0.5

00:03:40.438 --> 00:03:41.864
但如果我们带入公式

00:03:41.865 --> 00:03:43.989
这个调和平均值是0

00:03:44.188 --> 00:03:48.750
另一个例子 如果精度是0.2 而召回率是0.8

00:03:48.750 --> 00:03:50.389
那么算术平均值是0.5

00:03:50.389 --> 00:03:52.644
但调和平均值是0.32

00:03:52.843 --> 00:03:54.989
所以它更接近较小值

00:03:54.990 --> 00:03:58.239
因此 从现在开始 我们不再使用平均数或算术平均数

00:03:58.438 --> 00:04:00.209
而是使用调和平均值

00:04:00.210 --> 00:04:03.060
这被称为F1分数

00:04:03.060 --> 00:04:06.313
正如我们所说的 F1分数

00:04:06.313 --> 00:04:08.030
接近精度和召回率之中的最小值

00:04:08.030 --> 00:04:10.185
所以如果其中一个特别低

00:04:10.185 --> 00:04:12.990
F1分数也会低

00:04:12.990 --> 00:04:15.000
算术平均会说 “如果一个是好的 例如是1

00:04:15.000 --> 00:04:16.019
而另一个是差的

00:04:16.019 --> 00:04:17.413
则可以取平均值”

00:04:17.415 --> 00:04:20.814
但对F1分数来说  只要两个指标有一个较小就会取较小值

00:04:21.014 --> 00:04:24.870
所以我们现在可以回到信用卡欺诈的例子 计算它的F1分数

00:04:24.870 --> 00:04:27.870
因为要计算两个指标的调和平均值

00:04:27.870 --> 00:04:29.129
这里精度是100%

00:04:29.129 --> 00:04:30.778
召回率是0

00:04:30.778 --> 00:04:34.723
我们把它们代入公式 得到F1得分为0

00:04:34.725 --> 00:04:36.819
这很接近模型的应得分数

00:04:37.019 --> 00:04:38.908
在接下来的两个练习中

00:04:38.910 --> 00:04:43.910
我们将让你计算医学模型和垃圾邮件模型的F1分数

